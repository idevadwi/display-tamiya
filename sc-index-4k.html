<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SC TEAM ANNIVERSARY RACE</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: black;
    }

    .iframe-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
    }

    iframe {
      position: absolute;
      top: 0;
      left: 100%;
      width: 100%;
      height: 100%;
      border: none;
      transition: left 1s ease-in-out;
    }

    iframe.active {
      left: 0;
      z-index: 2;
    }

    iframe.out {
      left: -100%;
      z-index: 1;
    }
  </style>
</head>
<body>

  <div class="iframe-container">
    <iframe id="frame1" src="sc1-4k.html" class="active"></iframe>
    <iframe id="frame2" src="about:blank"></iframe>
  </div>

  <script>
    const pages = [
      { url: "sc1-4k.html", duration: 10000 },  // 15 seconds
      { url: "sc-best-4k.html", duration: 10000 } // 10 seconds
    ];

    let currentIndex = 0;
    let currentFrame = 1;

    function getFrame(n) {
      return document.getElementById("frame" + n);
    }

    function slideToNext() {
      const nextIndex = (currentIndex + 1) % pages.length;
      const current = getFrame(currentFrame);
      const next = getFrame(3 - currentFrame); // toggles between 1 and 2

      next.src = pages[nextIndex].url;
      next.className = ""; // Reset class

      // Force reflow to allow transition
      void next.offsetWidth;

      // Start transition
      next.classList.add("active");
      current.classList.add("out");

      // After transition, reset previous frame
      setTimeout(() => {
        current.className = "";
        current.src = "about:blank";
      }, 1000); // must match CSS transition time

      // Update indexes
      currentIndex = nextIndex;
      currentFrame = 3 - currentFrame;

      // Schedule next slide
      setTimeout(slideToNext, pages[nextIndex].duration);
    }

    // Start first transition
    setTimeout(slideToNext, pages[0].duration);
  </script>

</body>
</html>
